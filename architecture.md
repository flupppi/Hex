# Architecture
In this document we describe the technological foundations of the program.
This involves how the Gameplay Systems work, i.e. how each scene in the game is structured. Also how multiplayer, UI and visuals come together.
The goal here is to document how such a system can be built both robustly and efficiently in a limited time. 

## Gameplay Systems

The game should consist of about 30 handcrafted levels. 
They should show a great variety of scenarios and challenges progressively getting harder and requiring different gameplay mechanics to be mastered by the players.

For this to work, building levels needs to be easy. 
A hex map level editor has been developed and will be adapted for this project.

To keep the architecture simple the goal is to only have a single scene for the main gameplay. Different levels are purely generated by loading the respective 'Map Asset' for this stage. 

Other scenes are used for the main menu, level transitions, cinematic game events, debugging ui, etc. 

There will be different kinds of scenes. 
**Menu:** 
* Main Menu to start the game, settings, etc. 
* In Game UI and Quick Menu visualizing the state of the game.
**State:** 
* Event spawned by actions during the game, visually highlighting the dynamic actions happening during the game
* Succcess showing who has won the current level, maybe leaderboard, comparing players stats.
* Game Over showing what happens if one of the player fails, all the players fail.
* Level Transition introducing next stage of the game. Text, Animation, etc.
**Game:**
* The foundational scene that is generated for each level. From here the state scenes are loaded when certain events in the game happen.
* Each level is a combination of it's data, a background, and the gameplay systems and assets working based on the level data and encoded game rules. 

### Game Rules
* The Game rules are established in the game by a logic core program, keeping track of states of players, objects, and the world. In addition it uses counters and probabilities for certain aspects of the gameplay loop. 
This Logic core is one central element collecting data, and processing it to make deterministic decisions about the next step in the game. 
* The goal of the logic core is to be deterministic. Each state in the game should be able to be replicated by following the same steps with the same random base seed. This also makes debugging possible, but it requires a strict way of representing everything that can happen in the game though calculations on it's raw available data.

**Scripts:**
* Core: Script setting up the players, the level, the game rules and updating these each step.
* Player: Script attached to the player handling it's state, visual appearance, position.

### Hexagonal Map
The hexagonal map is designed in a specially created level editor.




